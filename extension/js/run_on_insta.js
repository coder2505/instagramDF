const dataid=["storiesCheckbox","suggestedforyouCheckbox","exploreCheckbox","reelsCheckbox","mainfeedCheckbox"];let start_url,isChecked,dataCustom_values=[!1,!1,!1,!1,!1];const checkbox=document.getElementById("toggle");function reload(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e[0].url.includes("instagram.com")&&chrome.tabs.update(e[0].id,{url:e[0].url})}))}function checkIsChecked(e){chrome.storage.sync.get("key",(t=>{isChecked=t.key,isChecked&&(e(isChecked),change.observe(document.body,{childList:!0,subtree:!0}))})),dataid.forEach((e=>{chrome.storage.sync.get(e,(t=>{if(t[e])switch(e){case dataid[0]:isChecked&&hideStories(),dataCustom_values[0]=!0;break;case dataid[1]:isChecked&&hideSuggForYou(),dataCustom_values[1]=!0;break;case dataid[2]:isChecked&&hideExploreTab(),dataCustom_values[2]=!0;break;case dataid[3]:isChecked&&hideReelsTab(),dataCustom_values[3]=!0;break;case dataid[4]:isChecked&&hideMainFeed(),dataCustom_values[4]=!0}}))}))}function hideStories(){if("https://www.instagram.com/"==document.URL){document.querySelector("div[aria-label^='Story by']").closest("[role='presentation']").parentElement.parentElement.style.display="none"}}function hideSuggForYou(){if("https://www.instagram.com/"==document.URL)try{const e=document.querySelector("a[href='/explore/people/']");e.parentElement.parentElement.parentElement.style.display="none"}catch(e){setTimeout((()=>{hideSuggForYou()}),1e3)}}function hideExploreTab(){const e=document.querySelector('a[href="/explore/"]');0==e.length&&setTimeout((()=>{hideExploreTab()}),1e3),e.style.display="none"}function hideReelsTab(){const e=document.querySelector('a[href="/reels/"]');0==e.length&&setTimeout((()=>{hideReelsTab()}),1e3),e.style.display="none"}function hideMainFeed(){if("https://www.instagram.com/"==document.URL){const e=document.querySelector(".x9f619.xjbqb8w.x78zum5.x168nmei.x13lgxp2.x5pf9jr.xo71vjh.x1uhb9sk.x1plvlek.xryxfnj.x1c4vz4f.x2lah0s.xdt5ytf.xqjyukv.x6s0dn4.x1oa3qoh.x1nhvcw1");0==e.length&&setTimeout((()=>{hideMainFeed()}),1e3),e.style.display="none"}}function activate(){start_url=document.URL,dataCustom_values[0]&&hideStories(),dataCustom_values[4]&&hideMainFeed(),dataCustom_values[2]&&hideExploreTab(),dataCustom_values[3]&&hideReelsTab(),dataCustom_values[1]&&hideSuggForYou()}document.addEventListener("DOMContentLoaded",(()=>{checkbox.addEventListener("change",(()=>{checkbox.checked?(chrome.storage.sync.set({key:!0}),chrome.storage.sync.get(["isFirstTime"],(e=>{if(!e.isFirstTime){console.log(e.isFirstTime);for(let e=0;e<dataid.length;e++)document.getElementById(dataid[e]).checked=!0,chrome.storage.sync.set({[dataid[e]]:!0}),dataCustom_values[e]=!0;chrome.storage.sync.set({isFirstTime:!0})}}))):chrome.storage.sync.set({key:!1}),reload()})),document.querySelectorAll(".input_custom").forEach((e=>{document.getElementById(`${e.id}`).addEventListener("change",(()=>{e.checked?chrome.storage.sync.set({[e.id]:!0}):chrome.storage.sync.set({[e.id]:!1}),checkbox.checked&&reload()}))}))})),checkIsChecked((e=>{this.isChecked=e,e&&activate()}));const change=new MutationObserver((()=>{activate()}));